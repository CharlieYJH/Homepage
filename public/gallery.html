<!DOCTYPE html>
<html lang="en">
<head>
  <title>Gallery | Charile Yin</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="./stylesheets/grid.css">
  <link rel="stylesheet" type="text/css" href="./stylesheets/stylesheet.css">
</head>
  <style>
    .container {
        opacity: 0;
        transition: 0.5s;
    }
    
    .container-loaded {
        opacity: 1;
    }
  </style>
<body class="container" id="gallery">
<div class="wrapper">
    <div class="section group main-nav" id="navbar">
        <nav class="col span_12_of_12">
            <div class="show-menu"><p>Menu</p></div>
            <ul>
                <li><a href="index.html">Home</a>
                <li><a href="index.html#before-section">About Me</a>
                <li><a href="#">Gallery</a>
                <li><a href="index.html#content-3">Channel</a>
                <li><a href="https://github.com/CharlieYJH">GitHub</a>
            </ul>
        </nav>
    </div>

    <div class="img-display">
        <div class="img-nav" id="left-nav" style="background-image: url('./images/gallery/nav-arrow-left.png')"></div>
        <div class="img-nav" id="right-nav" style="background-image: url('./images/gallery/nav-arrow-right.png')"></div>
        <div class="img-big-container">
            <img></img>
        </div>
    </div>

    <div class="section group subpage-heading">
        <div class="col span_12_of_12 subpage-banner">
            <div class="color-fill"></div>
            <span class="subpage-title">GALLERY</span>
        </div>
    </div>

    <div class="section group horizontal-spacing">
        <div class="col span_12_of_12"></div>
    </div>

    <div class="section group horizontal-spacing">
        <div class="col span_12_of_12"></div>
    </div>

    <div class="section group" id="gallery-container">
        <div id="gallery-section">
            <ul id="img-section">
                <li class="img-box"><div class="image" data-image="./images/gallery/01.png" style="background-image: url('./images/gallery/01_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/02.png" style="background-image: url('./images/gallery/02_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/03.png" style="background-image: url('./images/gallery/03_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/04.png" style="background-image: url('./images/gallery/04_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/05.png" style="background-image: url('./images/gallery/05_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/06.png" style="background-image: url('./images/gallery/06_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/07.png" style="background-image: url('./images/gallery/07_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/08.png" style="background-image: url('./images/gallery/08_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/09.png" style="background-image: url('./images/gallery/09_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/10.png" style="background-image: url('./images/gallery/10_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/11.png" style="background-image: url('./images/gallery/11_thumb.jpg')"></div>
                <li class="img-box"><div class="image" data-image="./images/gallery/12.png" style="background-image: url('./images/gallery/12_thumb.jpg')"></div>
            </ul>
        </div>
    </div>

    <div class="section group horizontal-spacing">
        <div class="col span_12_of_12"></div>
    </div>

    <div class="section group horizontal-spacing">
        <div class="col span_12_of_12"></div>
    </div>

    <div class="section group horizontal-spacing">
        <div class="col span_12_of_12"></div>
    </div>

    <div class="section group footer">
        <div class="col span_12_of_12" id="footer-container">
            <ul id="footer-links">
                <li><a href="#">Contact Me</a>
                <li><a href="#">Facebook</a>
                <li><a href="#">YouTube</a>
                <li><a href="#">GitHub</a>
            </ul>
        </div>
    </div>
</div>

<div id="preload"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>
    // Image directs to another page when clicked on in touch devices
    if ("ontouchstart" in window || window.navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0) {
        $(".image").wrap(function() {
            return "<a href=" + $(this).attr("data-image") + "></a>";
        });
    }
    // Else if it's non-touch device, preload the images
    else {
        var preload = function() {
            var image = [];
            var loadbox = $("#preload");
            for (var i = 0; i < arguments.length; i++) {
                loadbox.append("<img src=" + preload.arguments[i] + "></img");
            }
        }

        preload("./images/gallery/01.png",
                "./images/gallery/02.png",
                "./images/gallery/03.png",
                "./images/gallery/04.png",
                "./images/gallery/05.png",
                "./images/gallery/06.png",
                "./images/gallery/07.png",
                "./images/gallery/08.png",
                "./images/gallery/09.png",
                "./images/gallery/10.png",
                "./images/gallery/11.png",
                "./images/gallery/12.png");
    }
</script>
<script src="./javascripts/gallery_animation.js"></script>
<script>

    // Changes navbar color if scrolled down
    $(document).ready(function() {
        $(document).scroll(function() {

            var scroll = $(this).scrollTop();
            var width = $(window).width();
            
            if (width <= 720 || scroll > 0) {
                $("#navbar").find("ul").css("background-color", "rgb(178, 42, 42)");
            }
            else {
                $("#navbar").find("ul").css("background-color", "rgba(0, 0, 0, 0.3)");
            }
        });
    });

    // Changes navbar color on resize if not at top of page or if window is smaller than 720px
    // Shows menu properly switching from small screen to big screen
    $(window).resize(function() {

        var scroll = $(window).scrollTop();
        var width = $(window).width();

        if (width <= 720 || scroll > 0) {
            $("#navbar").find("ul").css("background-color", "rgb(178, 42, 42)");
        }
        else {
            $("#navbar").find("ul").css("background-color", "rgba(0, 0, 0, 0.3)");
        }

        if (width > 480) {
            $(".main-nav ul").css("display", "");
            $(".show-menu").css("background-color", "rgb(178, 42, 42)");
        }
    });
    
    // Changes navbar color if page loads in middle of page
    $(document).ready(function() {

        var scroll = $(window).scrollTop();

        if (scroll > 0) {
            $("#navbar").find("ul").css("background-color", "rgb(178, 42, 42)");
        }
    });

    // Show full menu when clicking menu and changes menu button color
    $(".show-menu").click(function(e) {

        e.preventDefault();
        $(".main-nav ul").slideToggle(200);

        if ($(".main-nav ul").height() <= 1) {
            $(".show-menu").css("background-color", "#591515");
        }
        else {
            $(".show-menu").css("background-color", "rgb(178, 42, 42)");
        }
    });

    // Hide menu when somewhere else on screen is clicked
    $(document).click(function(event) {
        if (!$(event.target).is(".show-menu") && !$(event.target).is(".show-menu p")) {
            if(!$(".main-nav ul").is(":hidden") && $(window).width() <= 480) {
                $(".main-nav ul").slideUp(200);
                $(".show-menu").css("background-color", "rgb(178, 42, 42)");
            }
        }
    });

    // Fade in page    
    $(document).ready(function() {
        $(window).on("load", function() {
            $(".container").addClass("container-loaded");
        });
    });

    // Remove hover effects from stylesheet if it's a touch device (Hoping to find better solution)
    $(document).ready(function() {
        if ("ontouchstart" in window || window.navigator.maxTouchPoints > 0 || window.navigator.msMaxTouchPoints > 0) {

            var styles = document.styleSheets[1];

            for (var i = styles.cssRules.length - 1; i >= 0; i--) {
                if (styles.cssRules[i].selectorText && /:hover\b/.test(styles.cssRules[i].selectorText)) {
                    styles.deleteRule(i);
                }
            }
        }
    });
    
</script>
</body>
</html>
